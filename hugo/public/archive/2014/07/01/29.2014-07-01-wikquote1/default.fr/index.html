<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Analyse de fr.wikiquote.org | oct.zoy.org</title>
<meta name="keywords" content="code, wikipedia">
<meta name="description" content="Cet article évoque l&rsquo;analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.
Wikiquote ? Si vous l&rsquo;ignoriez encore, wikiquote est un des projets Wikimedia qui contient entre autres la très connue Wikipedia, l&rsquo;encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème.">
<meta name="author" content="">
<link rel="canonical" href="https://oct.zoy.org/archive/2014/07/01/29.2014-07-01-wikquote1/default.fr/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.9ece5999c00778a03c710e924aee5d11de71124f4ac26fb1046ad663031d846b.css" integrity="sha256-ns5ZmcAHeKA8cQ6SSu5dEd5xEk9Kwm&#43;xBGrWYwMdhGs=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js" integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://oct.zoy.org/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://oct.zoy.org/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://oct.zoy.org/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://oct.zoy.org/apple-touch-icon.png">
<link rel="mask-icon" href="https://oct.zoy.org/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --hljs-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript><script defer data-domain="oct.zoy.org" src="https://plausible.io/js/script.js"></script>
<meta property="og:title" content="Analyse de fr.wikiquote.org" />
<meta property="og:description" content="Cet article évoque l&rsquo;analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.
Wikiquote ? Si vous l&rsquo;ignoriez encore, wikiquote est un des projets Wikimedia qui contient entre autres la très connue Wikipedia, l&rsquo;encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://oct.zoy.org/archive/2014/07/01/29.2014-07-01-wikquote1/default.fr/" /><meta property="article:section" content="archive" />



<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Analyse de fr.wikiquote.org"/>
<meta name="twitter:description" content="Cet article évoque l&rsquo;analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.
Wikiquote ? Si vous l&rsquo;ignoriez encore, wikiquote est un des projets Wikimedia qui contient entre autres la très connue Wikipedia, l&rsquo;encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème."/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position":  1 ,
      "name": "Archives",
      "item": "https://oct.zoy.org/archive/"
    }, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Analyse de fr.wikiquote.org",
      "item": "https://oct.zoy.org/archive/2014/07/01/29.2014-07-01-wikquote1/default.fr/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "Analyse de fr.wikiquote.org",
  "name": "Analyse de fr.wikiquote.org",
  "description": "Cet article évoque l\u0026rsquo;analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.\nWikiquote ? Si vous l\u0026rsquo;ignoriez encore, wikiquote est un des projets Wikimedia qui contient entre autres la très connue Wikipedia, l\u0026rsquo;encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème.",
  "keywords": [
    "code", "wikipedia"
  ],
  "articleBody": "Cet article évoque l’analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.\nWikiquote ? Si vous l’ignoriez encore, wikiquote est un des projets Wikimedia qui contient entre autres la très connue Wikipedia, l’encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème.\nDans le cadre de mes projets personnels, j’avais besoin de voir s’il était possible de parser les données Wikiquote pour en extraire les citations de manière aussi structurée que possible.\nEt alors ? Après quelques expériences, le format de fr.wikiquote.org est relativement structuré, les citations sont dans des modèles {{{citation}}} et les références dans des {{{Réf livre|série|article|film ...}}. J’ai finalement fini par écrire un parser simple du format du markup utilisé dans fr.wikiquote.org, il est disponible ici, pour les curieux et il vous faudra un dump de wikiquote, ou le lancer sur l’échantillon qui est dans le projet.\nDes stats ! Alors voilà les statistiques livrées par la machine. Pour chaque balise, j’ai listé les attributs les plus fréquement utilisés (avec leur % d’adoption). On voit ici que la variabilité est assez considérable, et qu’en particulier, les citations ne sont probablement pas toutes sourcées (vu l’écart entre les Réf  et les Citation).\nNéanmoins, il devrait être possible d’extraire un sacré paquet de citations de manière automatisée et d’avoir quelque chose d’exploitable. Prochaine étape, faire un mini site qui permet de naviguer dans ces citations de manière structurée.\ncitation (42883 occ.)  citation (68%) précisions (14%) taxonomy: tag: [backup] langue (11%) original (9%)  réf livre (28186 occ.)  page (96%) titre (88%) auteur (88%) éditeur (86%) année (85%) isbn (40%) année d’origine (36%) collection (33%) section (24%) chapitre (22%) traducteur (18%) partie (16%) référence (11%)  personnage (13531 occ.) w (6410 occ.) réf film (4791 occ.)  titre (99%) auteur (98%) date (95%) acteur (91%)  interprojet (3650 occ.)  w (82%) wikt (24%) commons (14%) s (11%)  réf article (3314 occ.)  titre (99%) auteur (99%) publication (96%) date (67%) page (63%) numéro (51%) issn (13%) url (12%)  réf série (3083 occ.)  acteur (97%) auteur (96%) série (93%) saison (93%) épisode (93%) diffusion (23%) diffuseur (23%) date (21%) traducteur (19%)  defaultsort (2717 occ.) date (1788 occ.) réf pub (1755 occ.)  nom (99%) date (97%) source (83%) auteur (66%) parution (61%) lieu (51%) précision (11%)  choisie citation du jour (1502 occ.)  mois (100%) année (100%) jour (100%) puce (95%) commentaire (81%)  Je n’ai mis que le début des stats (tout les modèles présents plus de 1000 fois), parce qu’il y en a un petit paquet et que c’est pas forcément très trépidant. N’hésitez pas à me faire du retour sur ces données si vous avez des choses à dire :)\n(relecture par Alexis)\n",
  "wordCount" : "472",
  "inLanguage": "en",
  "datePublished": "0001-01-01T00:00:00Z",
  "dateModified": "0001-01-01T00:00:00Z",
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://oct.zoy.org/archive/2014/07/01/29.2014-07-01-wikquote1/default.fr/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "oct.zoy.org",
    "logo": {
      "@type": "ImageObject",
      "url": "https://oct.zoy.org/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://oct.zoy.org/" accesskey="h" title="oct.zoy.org (Alt + H)">
                <img src="https://oct.zoy.org/bandana.png" alt="logo" aria-label="logo"
                    height="30">oct.zoy.org</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://oct.zoy.org/">Home</a>&nbsp;»&nbsp;<a href="https://oct.zoy.org/archive/">Archives</a></div>
    <h1 class="post-title">
      Analyse de fr.wikiquote.org
    </h1>
    <div class="post-meta">3 min

</div>
  </header> 
  <div class="post-content"><p>Cet article évoque l&rsquo;analyse technique du contenu des articles de la version française de Wikiquote. Elle donne un éclairage instructif sur la qualité du contenu de cette base en terme structurel.</p>
<h2 id="wikiquote-">Wikiquote ?<a hidden class="anchor" aria-hidden="true" href="#wikiquote-">#</a></h2>
<p>Si vous l&rsquo;ignoriez encore, <a href="http://fr.wikiquote.org">wikiquote</a> est un des projets Wikimedia qui contient entre autres la très connue <a href="http://fr.wikipedia.org">Wikipedia</a>, l&rsquo;encyclopédie libre et à laquelle tout le monde peut participer. Wikiquote, lui, vise à rassembler des citations, et à les organiser par auteur et par thème.</p>
<p>Dans le cadre de mes projets personnels, j&rsquo;avais besoin de voir s&rsquo;il était possible de parser les données Wikiquote pour en extraire les citations de manière aussi structurée que possible.</p>
<h2 id="et-alors-">Et alors ?<a hidden class="anchor" aria-hidden="true" href="#et-alors-">#</a></h2>
<p>Après quelques expériences, le format de fr.wikiquote.org est relativement structuré, les citations sont dans des <a href="http://fr.wikiquote.org/wiki/Cat%C3%A9gorie:Mod%C3%A8le:Racine">modèles</a>  <code>{{{citation}}}</code> et les références dans des <code>{{{Réf livre|série|article|film ...}}</code>. J&rsquo;ai finalement fini par écrire un parser simple du format du markup utilisé dans fr.wikiquote.org, il est disponible <a href="https://github.com/octplane/wikiquote-parser">ici, pour les curieux</a> et il vous faudra un dump de wikiquote, ou le lancer sur l&rsquo;échantillon qui est dans le projet.</p>
<h2 id="des-stats-">Des stats !<a hidden class="anchor" aria-hidden="true" href="#des-stats-">#</a></h2>
<p>Alors voilà les statistiques livrées par la machine. Pour chaque balise, j&rsquo;ai listé les attributs les plus fréquement utilisés (avec leur % d&rsquo;adoption). On voit ici que la variabilité est assez considérable, et qu&rsquo;en particulier, les citations ne sont probablement pas toutes sourcées (vu l&rsquo;écart entre les <code>Réf </code> et les <code>Citation</code>).</p>
<p>Néanmoins, il devrait être possible d&rsquo;extraire un sacré paquet de citations de manière automatisée et d&rsquo;avoir quelque chose d&rsquo;exploitable. Prochaine étape, faire un mini site qui permet de naviguer dans ces citations de manière structurée.</p>
<h3 id="citationhttpfrwikiquoteorgwikimodèlecitation-42883-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:citation">citation</a> (42883 occ.)<a hidden class="anchor" aria-hidden="true" href="#citationhttpfrwikiquoteorgwikimodèlecitation-42883-occ">#</a></h3>
<ul>
<li>citation (68%)</li>
<li>précisions (14%)</li>
<li>taxonomy:
tag: [backup]
langue (11%)</li>
<li>original (9%)</li>
</ul>
<h3 id="réf-livrehttpfrwikiquoteorgwikimodèleréf_livre-28186-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:r%C3%A9f_livre">réf livre</a> (28186 occ.)<a hidden class="anchor" aria-hidden="true" href="#réf-livrehttpfrwikiquoteorgwikimodèleréf_livre-28186-occ">#</a></h3>
<ul>
<li>page (96%)</li>
<li>titre (88%)</li>
<li>auteur (88%)</li>
<li>éditeur (86%)</li>
<li>année (85%)</li>
<li>isbn (40%)</li>
<li>année d&rsquo;origine (36%)</li>
<li>collection (33%)</li>
<li>section (24%)</li>
<li>chapitre (22%)</li>
<li>traducteur (18%)</li>
<li>partie (16%)</li>
<li>référence (11%)</li>
</ul>
<h3 id="personnagehttpfrwikiquoteorgwikimodèlepersonnage-13531-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:personnage">personnage</a> (13531 occ.)<a hidden class="anchor" aria-hidden="true" href="#personnagehttpfrwikiquoteorgwikimodèlepersonnage-13531-occ">#</a></h3>
<h3 id="whttpfrwikiquoteorgwikimodèlew-6410-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:w">w</a> (6410 occ.)<a hidden class="anchor" aria-hidden="true" href="#whttpfrwikiquoteorgwikimodèlew-6410-occ">#</a></h3>
<h3 id="réf-filmhttpfrwikiquoteorgwikimodèleréf_film-4791-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:r%C3%A9f_film">réf film</a> (4791 occ.)<a hidden class="anchor" aria-hidden="true" href="#réf-filmhttpfrwikiquoteorgwikimodèleréf_film-4791-occ">#</a></h3>
<ul>
<li>titre (99%)</li>
<li>auteur (98%)</li>
<li>date (95%)</li>
<li>acteur (91%)</li>
</ul>
<h3 id="interprojethttpfrwikiquoteorgwikimodèleinterprojet-3650-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:interprojet">interprojet</a> (3650 occ.)<a hidden class="anchor" aria-hidden="true" href="#interprojethttpfrwikiquoteorgwikimodèleinterprojet-3650-occ">#</a></h3>
<ul>
<li>w (82%)</li>
<li>wikt (24%)</li>
<li>commons (14%)</li>
<li>s (11%)</li>
</ul>
<h3 id="réf-articlehttpfrwikiquoteorgwikimodèleréf_article-3314-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:r%C3%A9f_Article">réf article</a> (3314 occ.)<a hidden class="anchor" aria-hidden="true" href="#réf-articlehttpfrwikiquoteorgwikimodèleréf_article-3314-occ">#</a></h3>
<ul>
<li>titre (99%)</li>
<li>auteur (99%)</li>
<li>publication (96%)</li>
<li>date (67%)</li>
<li>page (63%)</li>
<li>numéro (51%)</li>
<li>issn (13%)</li>
<li>url (12%)</li>
</ul>
<h3 id="réf-sériehttpfrwikiquoteorgwikimodèleréf_série-3083-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:r%C3%A9f_S%C3%A9rie">réf série</a> (3083 occ.)<a hidden class="anchor" aria-hidden="true" href="#réf-sériehttpfrwikiquoteorgwikimodèleréf_série-3083-occ">#</a></h3>
<ul>
<li>acteur (97%)</li>
<li>auteur (96%)</li>
<li>série (93%)</li>
<li>saison (93%)</li>
<li>épisode (93%)</li>
<li>diffusion (23%)</li>
<li>diffuseur (23%)</li>
<li>date (21%)</li>
<li>traducteur (19%)</li>
</ul>
<h3 id="defaultsort-2717-occ">defaultsort (2717 occ.)<a hidden class="anchor" aria-hidden="true" href="#defaultsort-2717-occ">#</a></h3>
<h3 id="datehttpfrwikiquoteorgwikimodèledate-1788-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:date">date</a> (1788 occ.)<a hidden class="anchor" aria-hidden="true" href="#datehttpfrwikiquoteorgwikimodèledate-1788-occ">#</a></h3>
<h3 id="réf-pubhttpfrwikiquoteorgwikimodèleréf_pub-1755-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:r%C3%A9f_pub">réf pub</a> (1755 occ.)<a hidden class="anchor" aria-hidden="true" href="#réf-pubhttpfrwikiquoteorgwikimodèleréf_pub-1755-occ">#</a></h3>
<ul>
<li>nom (99%)</li>
<li>date (97%)</li>
<li>source (83%)</li>
<li>auteur (66%)</li>
<li>parution (61%)</li>
<li>lieu (51%)</li>
<li>précision (11%)</li>
</ul>
<h3 id="choisie-citation-du-jourhttpfrwikiquoteorgwikimodèlechoisie_citation_du_jour-1502-occ"><a href="http://fr.wikiquote.org/wiki/Mod%C3%A8le:choisie_citation_du_jour">choisie citation du jour</a> (1502 occ.)<a hidden class="anchor" aria-hidden="true" href="#choisie-citation-du-jourhttpfrwikiquoteorgwikimodèlechoisie_citation_du_jour-1502-occ">#</a></h3>
<ul>
<li>mois (100%)</li>
<li>année (100%)</li>
<li>jour (100%)</li>
<li>puce (95%)</li>
<li>commentaire (81%)</li>
</ul>
<p>Je n&rsquo;ai mis que le début des stats (tout les modèles présents plus de 1000 fois), parce qu&rsquo;il y en a un petit paquet et que c&rsquo;est pas forcément très trépidant. N&rsquo;hésitez pas à me faire du retour sur ces données si vous avez des choses à dire :)</p>
<p>(relecture par Alexis)</p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://oct.zoy.org/tags/code/">code</a></li>
      <li><a href="https://oct.zoy.org/tags/wikipedia/">wikipedia</a></li>
    </ul>
  </footer>
</article>
    </main>
    
<footer class="footer">
    <span>© oct.zoy.org, questions, comments, critics <a href="https://twitter.com/octplane">@octplane</a></span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
